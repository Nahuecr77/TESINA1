<!DOCTYPE html>
<html>
<head>
    <title>Editar Computadora - Stock de Computadoras</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <meta charset="utf-8">
</head>
<body>
    <div class="login-container">
        <div class="login-logo"></div>
        <h1 class="login-title">Editar Computadora</h1>

        {% if computadora %}
        <form method="post" class="login-form">
            <input type="text" name="nombre" placeholder="Nombre" value="{{ computadora.nombre }}" required>
            <input type="text" name="marca" placeholder="Marca" value="{{ computadora.marca }}" required>
            <input type="text" name="modelo" placeholder="Modelo" value="{{ computadora.modelo }}" required>
            <input type="text" name="numero_serie" placeholder="Número de Serie" value="{{ computadora.numero_serie }}" required>
            <input type="text" name="ubicacion" placeholder="Ubicación" value="{{ computadora.ubicacion }}" required>

            <select name="estado" required>
                <option value="disponible" {{ 'selected' if computadora.estado == 'disponible' else '' }}>Disponible</option>
                <option value="en uso" {{ 'selected' if computadora.estado == 'en uso' else '' }}>En Uso</option>
                <option value="mantenimiento" {{ 'selected' if computadora.estado == 'mantenimiento' else '' }}>Mantenimiento</option>
                <option value="Fuera de Servicio" {{ 'selected' if computadora.estado in ['Fuera de Servicio', 'baja'] else '' }}>Fuera de Servicio</option>
            </select>

            <label>Fecha de Adquisición</label>
            <input type="date" name="fecha_adquisicion" value="{{ computadora.fecha_adquisicion|default('', true) }}">

            <label>Fecha Último Mantenimiento</label>
            <input type="date" name="fecha_ultimo_mantenimiento" value="{{ computadora.fecha_ultimo_mantenimiento|default('', true) }}">

            <textarea name="observaciones" placeholder="Observaciones" rows="4">{{ computadora.observaciones }}</textarea>

            <button type="submit" class="login-btn">Guardar Cambios</button>
        </form>
        {% endif %}

        <a href="{{ url_for('ver_computadora', id=computadora.id) }}" class="back-btn">Cancelar</a>
        <a href="{{ url_for('todas_computadoras') }}" class="back-btn">Volver al Listado</a>

        <div class="login-messages">
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                {% for category, message in messages %}
                  <div class="{{ category }}">{{ message }}</div>
                {% endfor %}
              {% endif %}
            {% endwith %}
        </div>
    </div>

    <script src="{{ url_for('static', filename='scripts.js') }}"></script>
</body>
</html>


